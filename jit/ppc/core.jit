;
; ppc/core.jit
;
;
; $Id$
;

Parrot_end {
    emit_addi(NATIVECODE, r1, r1, 64);
    emit_lwz(NATIVECODE, r0, 8, r1);
    emit_mtlr(NATIVECODE, r0);
;    emit_lmw(NATIVECODE, r30, -8, r1);
    emit_blr(NATIVECODE);
}

Parrot_set_i_ic {
    if (MAP[1]) {
        emit_imm32(NATIVECODE, MAP[1], *INT_CONST[2]);
    }
    else {
        emit_imm32(NATIVECODE, r12, *INT_CONST[2]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]); 
    }
}

Parrot_set_i_i {
    if (MAP[1] && MAP[2]) {
        emit_mr(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, MAP[1], &INT_REG[2]); 
    } 
    else if (MAP[2]) {
        emit_stw_r(NATIVECODE, MAP[2], &INT_REG[1]); 
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]); 
    }
}

Parrot_set_n_nc {
    if (MAP[1]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, MAP[1], 0, r12);
    }
    else {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, r12, 0, r12);
        emit_stfd_r(NATIVECODE, r12, &NUM_REG[1]); 
    }
}

Parrot_neg_i_i {
    if (MAP[1] && MAP[2]) {
        emit_neg(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_neg(NATIVECODE, MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_neg(NATIVECODE, r12, MAP[1]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_neg(NATIVECODE, r12, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_bor_i_i_i {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_or(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]); 
        emit_or(NATIVECODE, MAP[1], MAP[2], r12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_or(NATIVECODE, MAP[1], r12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_or(NATIVECODE, r12, MAP[2], MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[3]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_or(NATIVECODE, MAP[1], r11, r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_or(NATIVECODE, r12, MAP[2], r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else if (MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_or(NATIVECODE, r12, r12, MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_or(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_bor_i_i {
    if (MAP[1] && MAP[2]) {
        emit_or(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_or(NATIVECODE, MAP[1], MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_or(NATIVECODE, r12, r12, MAP[2]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_or(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_add_i_i_i {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_add(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]); 
        emit_add(NATIVECODE, MAP[1], MAP[2], r12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_add(NATIVECODE, MAP[1], r12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_add(NATIVECODE, r12, MAP[2], MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[3]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_add(NATIVECODE, MAP[1], r11, r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_add(NATIVECODE, r12, MAP[2], r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else if (MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_add(NATIVECODE, r12, r12, MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_add(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_add_i_i {
    if (MAP[1] && MAP[2]) {
        emit_add(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_add(NATIVECODE, MAP[1], MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_add(NATIVECODE, r12, r12, MAP[2]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_add(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_bxor_i_i_i {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_xor(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]); 
        emit_xor(NATIVECODE, MAP[1], MAP[2], r12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_xor(NATIVECODE, MAP[1], r12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_xor(NATIVECODE, r12, MAP[2], MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[3]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_xor(NATIVECODE, MAP[1], r11, r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_xor(NATIVECODE, r12, MAP[2], r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else if (MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_xor(NATIVECODE, r12, r12, MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_xor(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_bxor_i_i {
    if (MAP[1] && MAP[2]) {
        emit_xor(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_xor(NATIVECODE, MAP[1], MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_xor(NATIVECODE, r12, r12, MAP[2]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_xor(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_div_i_i_i {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_divw(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]); 
        emit_divw(NATIVECODE, MAP[1], MAP[2], r12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_divw(NATIVECODE, MAP[1], r12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_divw(NATIVECODE, r12, MAP[2], MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[3]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_divw(NATIVECODE, MAP[1], r11, r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_divw(NATIVECODE, r12, MAP[2], r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else if (MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_divw(NATIVECODE, r12, r12, MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_divw(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_div_i_i {
    if (MAP[1] && MAP[2]) {
        emit_divw(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_divw(NATIVECODE, MAP[1], MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_divw(NATIVECODE, r12, r12, MAP[2]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_divw(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_band_i_i_i {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_and(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]); 
        emit_and(NATIVECODE, MAP[1], MAP[2], r12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_and(NATIVECODE, MAP[1], r12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_and(NATIVECODE, r12, MAP[2], MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[3]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_and(NATIVECODE, MAP[1], r11, r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_and(NATIVECODE, r12, MAP[2], r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else if (MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_and(NATIVECODE, r12, r12, MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_and(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_band_i_i {
    if (MAP[1] && MAP[2]) {
        emit_and(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_and(NATIVECODE, MAP[1], MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_and(NATIVECODE, r12, r12, MAP[2]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_and(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_mul_i_i_i {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_mullw(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]); 
        emit_mullw(NATIVECODE, MAP[1], MAP[2], r12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_mullw(NATIVECODE, MAP[1], r12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_mullw(NATIVECODE, r12, MAP[2], MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[3]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_mullw(NATIVECODE, MAP[1], r11, r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_mullw(NATIVECODE, r12, MAP[2], r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else if (MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_mullw(NATIVECODE, r12, r12, MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_mullw(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_mul_i_i {
    if (MAP[1] && MAP[2]) {
        emit_mullw(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_mullw(NATIVECODE, MAP[1], MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_mullw(NATIVECODE, r12, r12, MAP[2]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_mullw(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_sub_i_i_i {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_subf(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]); 
        emit_subf(NATIVECODE, MAP[1], MAP[2], r12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_subf(NATIVECODE, MAP[1], r12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_subf(NATIVECODE, r12, MAP[2], MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[3]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_subf(NATIVECODE, MAP[1], r11, r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_subf(NATIVECODE, r12, MAP[2], r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else if (MAP[3]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_subf(NATIVECODE, r12, r12, MAP[3]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[3]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_subf(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_sub_i_i {
    if (MAP[1] && MAP[2]) {
        emit_subf(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_subf(NATIVECODE, MAP[1], MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_subf(NATIVECODE, r12, r12, MAP[2]);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_subf(NATIVECODE, r12, r11, r12);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_inc_i {
    if (MAP[1]) {
        emit_addi (NATIVECODE, MAP[1], MAP[1], 1);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]); 
        emit_addi (NATIVECODE, r12, r12, 1);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_dec_i {
    if (MAP[1]) {
        emit_addi (NATIVECODE, MAP[1], MAP[1], -1);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]); 
        emit_addi (NATIVECODE, r12, r12, -1);
        emit_stw_r(NATIVECODE, r12, &INT_REG[1]);
    }
}

Parrot_neg_n_n {
    if (MAP[1] && MAP[2]) {
        emit_fneg(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fneg(NATIVECODE, MAP[1], f12);
    }
    else if (MAP[2]) {
        emit_fneg(NATIVECODE, f12, MAP[2]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fneg(NATIVECODE, f12, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_abs_n_n {
    if (MAP[1] && MAP[2]) {
        emit_fabs(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fabs(NATIVECODE, MAP[1], f12);
    }
    else if (MAP[2]) {
        emit_fabs(NATIVECODE, f12, MAP[2]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fabs(NATIVECODE, f12, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_add_n_n_n {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_fadd(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fadd(NATIVECODE, MAP[1], MAP[2], f12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fadd(NATIVECODE, MAP[1], MAP[3], f12);
    }
    else if (MAP[2] && MAP[3]) {
        emit_fadd(NATIVECODE, f12, MAP[2], MAP[3]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fadd(NATIVECODE, MAP[1], f11, f12);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fadd(NATIVECODE, f12, MAP[2], f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else if (MAP[3]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fadd(NATIVECODE, f12, MAP[3], f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fadd(NATIVECODE, f12, f11, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_add_n_n {
    if (MAP[1] && MAP[2]) {
        emit_fadd(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fadd(NATIVECODE, MAP[1], MAP[1], f12);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fadd(NATIVECODE, f12, f12, MAP[2]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fadd(NATIVECODE, f12, f11, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_div_n_n_n {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_fdiv(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fdiv(NATIVECODE, MAP[1], MAP[2], f12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fdiv(NATIVECODE, MAP[1], f12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_fdiv(NATIVECODE, f12, MAP[2], MAP[3]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fdiv(NATIVECODE, MAP[1], f11, f12);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fdiv(NATIVECODE, f12, MAP[2], f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else if (MAP[3]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fdiv(NATIVECODE, f12, f12, MAP[3]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fdiv(NATIVECODE, f12, f11, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_div_n_n {
    if (MAP[1] && MAP[2]) {
        emit_fdiv(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fdiv(NATIVECODE, MAP[1], MAP[1], f12);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fdiv(NATIVECODE, f12, f12, MAP[2]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fdiv(NATIVECODE, f12, f11, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_mul_n_n_n {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_fmul(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fmul(NATIVECODE, MAP[1], MAP[2], f12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fmul(NATIVECODE, MAP[1], f12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_fmul(NATIVECODE, f12, MAP[2], MAP[3]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fmul(NATIVECODE, MAP[1], f11, f12);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fmul(NATIVECODE, f12, MAP[2], f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else if (MAP[3]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fmul(NATIVECODE, f12, f12, MAP[3]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fmul(NATIVECODE, f12, f11, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_mul_n_n {
    if (MAP[1] && MAP[2]) {
        emit_fmul(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fmul(NATIVECODE, MAP[1], MAP[1], f12);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fmul(NATIVECODE, f12, f12, MAP[2]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fmul(NATIVECODE, f12, f11, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_sub_n_n_n {
    if (MAP[1] && MAP[2] && MAP[3]) {
        emit_fsub(NATIVECODE, MAP[1], MAP[2], MAP[3]);
    }
    else if (MAP[1] && MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fsub(NATIVECODE, MAP[1], MAP[2], f12);
    }
    else if (MAP[1] && MAP[3]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fsub(NATIVECODE, MAP[1], f12, MAP[3]);
    }
    else if (MAP[2] && MAP[3]) {
        emit_fsub(NATIVECODE, f12, MAP[2], MAP[3]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fsub(NATIVECODE, MAP[1], f11, f12);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fsub(NATIVECODE, f12, MAP[2], f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else if (MAP[3]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fsub(NATIVECODE, f12, f12, MAP[3]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[3]);
        emit_fsub(NATIVECODE, f12, f11, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_sub_n_n {
    if (MAP[1] && MAP[2]) {
        emit_fsub(NATIVECODE, MAP[1], MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fsub(NATIVECODE, MAP[1], MAP[1], f12);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fsub(NATIVECODE, f12, f12, MAP[2]);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fsub(NATIVECODE, f12, f11, f12);
        emit_stfd_r(NATIVECODE, f12, &NUM_REG[1]);
    }
}

Parrot_if_i_ic {
    if (MAP[1]) {
        emit_cmpi(NATIVECODE, MAP[1], 0);
    }
    else {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_cmpi(NATIVECODE, r12, 0);
    }
    emit_bc(jit_info, BNE, *INT_CONST[2]);
}
        
Parrot_gt_i_i_ic {
; First, emit the compare op:
    if (MAP[1] && MAP[2]) {
        emit_cmp(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BGT, *INT_CONST[3]);
}

Parrot_gt_i_ic_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[2]);

    if (MAP[1]) {
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BGT, *INT_CONST[3]);
}

Parrot_gt_ic_i_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[1]);

    if (MAP[2]) {
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_cmp(NATIVECODE, r12, r11);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BGT, *INT_CONST[3]);
}

Parrot_gt_ic_ic_ic {
    if (*INT_CONST[1] > *INT_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_eq_i_i_ic {
; First, emit the compare op:
    if (MAP[1] && MAP[2]) {
        emit_cmp(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BEQ, *INT_CONST[3]);
}

Parrot_eq_i_ic_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[2]);

    if (MAP[1]) {
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BEQ, *INT_CONST[3]);
}

Parrot_eq_ic_i_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[1]);

    if (MAP[2]) {
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_cmp(NATIVECODE, r12, r11);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BEQ, *INT_CONST[3]);
}

Parrot_eq_ic_ic_ic {
    if (*INT_CONST[1] == *INT_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_ge_i_i_ic {
; First, emit the compare op:
    if (MAP[1] && MAP[2]) {
        emit_cmp(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BGE, *INT_CONST[3]);
}

Parrot_ge_i_ic_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[2]);

    if (MAP[1]) {
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BGE, *INT_CONST[3]);
}

Parrot_ge_ic_i_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[1]);

    if (MAP[2]) {
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_cmp(NATIVECODE, r12, r11);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BGE, *INT_CONST[3]);
}

Parrot_ge_ic_ic_ic {
    if (*INT_CONST[1] >= *INT_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_lt_i_i_ic {
; First, emit the compare op:
    if (MAP[1] && MAP[2]) {
        emit_cmp(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BLT, *INT_CONST[3]);
}

Parrot_lt_i_ic_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[2]);

    if (MAP[1]) {
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BLT, *INT_CONST[3]);
}

Parrot_lt_ic_i_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[1]);

    if (MAP[2]) {
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_cmp(NATIVECODE, r12, r11);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BLT, *INT_CONST[3]);
}

Parrot_lt_ic_ic_ic {
    if (*INT_CONST[1] < *INT_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_le_i_i_ic {
; First, emit the compare op:
    if (MAP[1] && MAP[2]) {
        emit_cmp(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BLE, *INT_CONST[3]);
}

Parrot_le_i_ic_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[2]);

    if (MAP[1]) {
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BLE, *INT_CONST[3]);
}

Parrot_le_ic_i_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[1]);

    if (MAP[2]) {
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_cmp(NATIVECODE, r12, r11);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BLE, *INT_CONST[3]);
}

Parrot_le_ic_ic_ic {
    if (*INT_CONST[1] <= *INT_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_ne_i_i_ic {
; First, emit the compare op:
    if (MAP[1] && MAP[2]) {
        emit_cmp(NATIVECODE, MAP[1], MAP[2]);
    }
    else if (MAP[1]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]); 
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else if (MAP[2]) {
        emit_lwz_r(NATIVECODE, r12, &INT_REG[1]);
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_lwz_r(NATIVECODE, r12, &INT_REG[2]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BNE, *INT_CONST[3]);
}

Parrot_ne_i_ic_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[2]);

    if (MAP[1]) {
        emit_cmp(NATIVECODE, MAP[1], r12);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[1]);
        emit_cmp(NATIVECODE, r11, r12);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BNE, *INT_CONST[3]);
}

Parrot_ne_ic_i_ic {
    emit_imm32(NATIVECODE, r12, *INT_CONST[1]);

    if (MAP[2]) {
        emit_cmp(NATIVECODE, r12, MAP[2]);
    }
    else {
        emit_lwz_r(NATIVECODE, r11, &INT_REG[2]);
        emit_cmp(NATIVECODE, r12, r11);
    }
; Now the branch. XXX: need to handle large displacements.
    emit_bc(jit_info, BNE, *INT_CONST[3]);
}

Parrot_ne_ic_ic_ic {
    if (*INT_CONST[1] != *INT_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_gt_n_n_ic {
    if (MAP[1] && MAP[2]) {
        emit_fcmp(NATIVECODE, MAP[1], MAP[2]);
        emit_bc(jit_info, BGT, *INT_CONST[3]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BGT, *INT_CONST[3]);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BGT, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BGT, *INT_CONST[3]);
    }
}

Parrot_gt_n_nc_ic {
    if (MAP[1]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BGT, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BGT, *INT_CONST[3]);
    }
}

Parrot_gt_nc_n_ic {
    if (MAP[2]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BGT, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, f11);
        emit_bc(jit_info, BGT, *INT_CONST[3]);
    }
}

Parrot_gt_nc_nc_ic {
    if (*NUM_CONST[1] > *NUM_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_eq_n_n_ic {
    if (MAP[1] && MAP[2]) {
        emit_fcmp(NATIVECODE, MAP[1], MAP[2]);
        emit_bc(jit_info, BEQ, *INT_CONST[3]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BEQ, *INT_CONST[3]);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BEQ, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BEQ, *INT_CONST[3]);
    }
}

Parrot_eq_n_nc_ic {
    if (MAP[1]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BEQ, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BEQ, *INT_CONST[3]);
    }
}

Parrot_eq_nc_n_ic {
    if (MAP[2]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BEQ, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, f11);
        emit_bc(jit_info, BEQ, *INT_CONST[3]);
    }
}

Parrot_eq_nc_nc_ic {
    if (*NUM_CONST[1] == *NUM_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_ge_n_n_ic {
    if (MAP[1] && MAP[2]) {
        emit_fcmp(NATIVECODE, MAP[1], MAP[2]);
        emit_bc(jit_info, BGE, *INT_CONST[3]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BGE, *INT_CONST[3]);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BGE, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BGE, *INT_CONST[3]);
    }
}

Parrot_ge_n_nc_ic {
    if (MAP[1]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BGE, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BGE, *INT_CONST[3]);
    }
}

Parrot_ge_nc_n_ic {
    if (MAP[2]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BGE, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, f11);
        emit_bc(jit_info, BGE, *INT_CONST[3]);
    }
}

Parrot_ge_nc_nc_ic {
    if (*NUM_CONST[1] >= *NUM_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_lt_n_n_ic {
    if (MAP[1] && MAP[2]) {
        emit_fcmp(NATIVECODE, MAP[1], MAP[2]);
        emit_bc(jit_info, BLT, *INT_CONST[3]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BLT, *INT_CONST[3]);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BLT, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BLT, *INT_CONST[3]);
    }
}

Parrot_lt_n_nc_ic {
    if (MAP[1]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BLT, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BLT, *INT_CONST[3]);
    }
}

Parrot_lt_nc_n_ic {
    if (MAP[2]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BLT, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, f11);
        emit_bc(jit_info, BLT, *INT_CONST[3]);
    }
}

Parrot_lt_nc_nc_ic {
    if (*NUM_CONST[1] < *NUM_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_le_n_n_ic {
    if (MAP[1] && MAP[2]) {
        emit_fcmp(NATIVECODE, MAP[1], MAP[2]);
        emit_bc(jit_info, BLE, *INT_CONST[3]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BLE, *INT_CONST[3]);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BLE, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BLE, *INT_CONST[3]);
    }
}

Parrot_le_n_nc_ic {
    if (MAP[1]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BLE, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BLE, *INT_CONST[3]);
    }
}

Parrot_le_nc_n_ic {
    if (MAP[2]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BLE, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, f11);
        emit_bc(jit_info, BLE, *INT_CONST[3]);
    }
}

Parrot_le_nc_nc_ic {
    if (*NUM_CONST[1] <= *NUM_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}

Parrot_ne_n_n_ic {
    if (MAP[1] && MAP[2]) {
        emit_fcmp(NATIVECODE, MAP[1], MAP[2]);
        emit_bc(jit_info, BNE, *INT_CONST[3]);
    }
    else if (MAP[1]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BNE, *INT_CONST[3]);
    }
    else if (MAP[2]) {
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[1]);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BNE, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_lfd_r(NATIVECODE, f12, &NUM_REG[2]);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BNE, *INT_CONST[3]);
    }
}

Parrot_ne_n_nc_ic {
    if (MAP[1]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, MAP[1], f12);
        emit_bc(jit_info, BNE, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[1]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[2]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f11, f12);
        emit_bc(jit_info, BNE, *INT_CONST[3]);
    }
}

Parrot_ne_nc_n_ic {
    if (MAP[2]) {
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, MAP[2]);
        emit_bc(jit_info, BNE, *INT_CONST[3]);
    }
    else {
        emit_lfd_r(NATIVECODE, f11, &NUM_REG[2]);
        emit_imm32(NATIVECODE, r12, &NUM_CONST[1]);
        emit_lfd(NATIVECODE, f12, 0, r12);
        emit_fcmp(NATIVECODE, f12, f11);
        emit_bc(jit_info, BNE, *INT_CONST[3]);
    }
}

Parrot_ne_nc_nc_ic {
    if (*NUM_CONST[1] != *NUM_CONST[2])
        emit_bx(jit_info, 0, *INT_CONST[3]);
}
