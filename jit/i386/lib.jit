;
; Some handy functions
;
; $Id$
;

jump {
    movl &ARG[0],%eax
    mov    %eax,%edx
    lea    0x0(,%edx,4),%eax
    movl    *CONST_INTVAL[2],%edx
    jmp    *(%eax,%edx,1)
}

move {
    movl *CUR_OPCODE[1],%ecx
    movl &ARG[0],%eax
    add %ecx,%eax
    mov %eax,%edx
    lea 0x0(,%edx,4),%eax
    movl *CONST_INTVAL[2] ,%edx
    jmp *(%eax,%edx,1)
}

get_interpreter {
    mov *ARG[0],%eax
}

get_interpreter_control_stack_top {
    mov *ARG[0],%eax 
    addl $0x14,%eax
}
