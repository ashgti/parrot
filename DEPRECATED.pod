# $Id$

=head1 Deprecation in Parrot

This is a list of currently deprecated features of Parrot.  Every deprecation
has an associated Trac ticket [1].  Each item indicates the last release it's
guaranteed to appear in.

When deprecated items are removed, all usage of the feature in the
repository should be updated or removed, including documentation.

When deprecating opcodes, in addition to the ticket, be sure to mark the
opcode with the :deprecated flag; this will allow users to enable deprecation
warnings selectively with:

 .include 'include/warnings.pasm'
 warningson .PARROT_WARNINGS_DEPRECATED_FLAG

And then receive runtime warnings if they are using any deprecated opcodes.
The C<-w> command line option for parrot can also be used to enable all
warnings. You can use C<make warnings_tests> to run the standard test suite
with this option.

=head1 Command line options

=over 4

=item Remove individual runcore command line flags [post 0.9.1]

L<http://rt.perl.org/rt3/Ticket/Display.html?id=46503>

=back

=head1 PMCS

=over 4

=item pointer [post 0.9.0]

L<https://trac.parrot.org/parrot/ticket/187>

=item random [post 0.9.0]

L<https://trac.parrot.org/parrot/ticket/189>

=item ref [post 0.9.0]

L<https://trac.parrot.org/parrot/ticket/190>

=item tqueue [post 0.9.0]

L<https://trac.parrot.org/parrot/ticket/192>

=item slice [post 1.3]

L<https://trac.parrot.org/parrot/ticket/372>

=item bound_nci [post 1.3]

L<https://trac.parrot.org/parrot/ticket/373>

=back

=head1 Class Features

=over 4

=item PMC union struct [post 0.5.0]

This will be removed once all core PMCs have been updated.

L<http://rt.perl.org/rt3/Ticket/Display.html?id=48014>

=item :anon and :vtable named parameters to add_method [post 0.8.2]

If you want to override a vtable method/function when building a Class, then
use the method C<add_vtable_override> instead of calling C<add_method> with
one or both of these flags.

L<https://trac.parrot.org/parrot/ticket/158>

=back

=head1 PIR syntax

=over 4

=item Assignment syntax with opcodes [post 0.8.2]

When the first argument of an opcode is C<OUT>, then
the assignment syntax will be allowed, as it is today.

In any other case (i.e. C<INOUT>, C<IN>), this will become
a syntax error. For example:

    $S0 = print
    $P0 = substr 1, 2, "x"

Will have to be:

    print $S0
    substr $P0, 1, 2, "x"

L<http://rt.perl.org/rt3/Ticket/Display.html?id=36283>

=item named class/pmc lookup in pir syntax such as new, isa, subclass, get_class, etc [post 0.9.0]

Class PMC name resolution will be the following.

if the arg is a STRING
  Relative to the current Namespace

if the arg is a ResizableStringArray
  Relative to the current HLL Namespace

if the arg is a Namespace or Class PMC
  The passed in class or the class attatched to the passed in namespace.

L<https://trac.parrot.org/parrot/ticket/159>

=item C<.HLL_map> [post 0.9.1]

Languages should use this instead:

  $P0 = getinterp
  $P0.'hll_map'(TypeA, TypeB)

L<https://trac.parrot.org/parrot/ticket/314>

=back

=head1 Functions

=over 4

=item mmd_cvt_to_types [post 0.7.1]

L<http://rt.perl.org/rt3/Ticket/Display.html?id=60626>

=item src/pic.c and src/pic_jit.c [post 0.8.1]

These two files were a thin prototype implementation of Polymorphic Inline
Caching that only ever applied to 4 opcodes, one of which has now been removed.
The files (and all functions in them) are deprecated, and will be removed.

L<http://rt.perl.org/rt3/Ticket/Display.html?id=60048>

=item Subs marked with C<:vtable>/C<:method> aren't in namespace [post 0.8.2]

Subs marked with C<:vtable> or C<:method> flags are no longer given a
namespace entry by default.  Use the C<:nsentry> flag to cause this
to happen.

L<http://rt.perl.org/rt3/Ticket/Display.html?id=53302>

=item Parrot_readbc, Parrot_loadbc. [post 0.8.1]

They have been renamed to C<Parrot_pbc_read>, C<Parrot_pbc_load>.
C<Parrot_pbc_read> has one third int argument.

L<https://trac.parrot.org/parrot/ticket/266>

=back

=head1 Compiler tools

=over 4

=item P6protoobject stringification [post 0.9.0]

Stringification of protoobjects will return the full name of the type
and parentheses, per Synopsis 12.

L<https://trac.parrot.org/parrot/ticket/168>

=back

=head1 build tools

=over 4

=item tools/build/dynoplibs.pl and tools/build/dynpmc.pl [post 0.9.1]

Replaced with makefiles.

L<https://trac.parrot.org/parrot/ticket/338>

=back

=head1 Footnotes

=over 4

=item 1

L<Trac|http://trac.parrot.org/> is parrot's primary issue tracking system.

Older tickets may be listed at L<RT|https://rt.perl.org/rt3>.

=back

=cut
