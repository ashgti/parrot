[for start:script test:expr next:script command:script]

  $start
loop:
  $I0 = $test
  unless $I0 goto done
  push_eh exception
    $command
  clear_eh
continue:
  push_eh next_exception
    $next
  clear_eh
  goto loop
  
exception:
  .catch()
  .get_return_code($I0)
  if $I0 == TCL_CONTINUE goto continue
  if $I0 == TCL_BREAK    goto done
  .rethrow()

next_exception:
  .catch()
  .get_return_code($I0)
  if $I0 == TCL_BREAK goto done
  .rethrow()

done:
  $R = new .String
  $R = ''
