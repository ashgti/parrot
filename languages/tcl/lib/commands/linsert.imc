# XXX simplified version.

.namespace [ "Tcl" ]

.sub "lindex"
  
  .local pmc argv
  argv = foldup

  .local int argc 
  argc = argv

  if argc != 1 goto indexed

  .local pmc retval
  retval = argv[0]

  .return(TCL_OK,retval)

indexed:
  # The indices could be a list in a pmc or multiple pmcs. Deal with
  # it either way... For now, assume they are individual... and singular.
  .local int index
  index = argv[1]
  retval = argv[index]

  .return (TCL_OK,retval)
.end
