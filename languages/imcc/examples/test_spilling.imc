# Test the ability of the register allocator to
# generate spills.
#

# currently needed XXX
.sub main
 	bsr _MAIN
	end
ret

.sub _MAIN
	$I0 = 0
	$I1 = 1
	$I2 = 2
	$I3 = 3
	$I4 = 4
	$I5 = 5
	$I6 = 6
	$I7 = 7
	$I8 = 8
	$I9 = 9

	$I10 = 10
	$I11 = 11
	$I12 = 12
	$I13 = 13
	$I14 = 14
	$I15 = 15
	$I16 = 16
	$I17 = 17
	$I18 = 18
	$I19 = 19

	$I20 = 20
	$I21 = 21
	$I22 = 22
	$I23 = 23
	$I24 = 24
	$I25 = 25
	$I26 = 26
	$I27 = 27
	$I28 = 28
	$I29 = 29

	$I30 = 30
	$I31 = 31
	$I32 = 32
	$I33 = 33
	$I34 = 34
	$I35 = 35
	$I36 = 36
	$I37 = 37
	$I38 = 38
	$I39 = 39

	$I40 = 40
	# XXX if one block holds the whole code
	# spilling doesn't work because life_analysis is block based
	# so this statement makes a new basic block
	eq $I10,1, pri
pri:
	print $I0
	print $I1
	print $I2
	print $I3
	print $I4
	print $I5
	print $I6
	print $I7
	print $I8
	print $I9
	print "\n"
	print $I10
	print $I11
	print $I12
	print $I13
	print $I14
	print $I15
	print $I16
	print $I17
	print $I18
	print $I19
	print "\n"
	print $I20
	print $I21
	print $I22
	print $I23
	print $I24
	print $I25
	print $I26
	print $I27
	print $I28
	print $I29
	print "\n"
	print $I30
	print $I31
	print $I32
	print $I33
	print $I34
	print $I35
	print $I36
	print $I37
	print $I38
	print $I39
	print "\n"
	print $I40
	print "\n"
	ret

