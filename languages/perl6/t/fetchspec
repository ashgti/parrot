# Copyright (C) 2006-2007, The Perl Foundation.
# $Id$

=head1 NAME

fetchspec - retrieve selected tests from Pugs test repo

=head1 SYNOPSIS

This script uses svn to retrieve selected tests from the
Perl 6 test repository (currently at http://svn.pugscode.org/t).

This script expects to be called from the languages/perl6/
directory.

=cut

use strict;
use File::Path;
use File::Basename qw(dirname);

my @specutils = qw(
    util/fudge
);
my @spectests = qw(
    t/01-sanity
    t/spec/S02-literals
    t/spec/S03-operators
    t/spec/S04-statements
    t/spec/S29-str
);

my $spec_repo = 'http://svn.pugscode.org/pugs';
my $test_dir = 't/spec';

foreach my $srcfile (@specutils, @spectests) {
    my $tgtfile = $srcfile;
    $tgtfile =~ s!^t/(spec/)?!!;

    my $dirname = dirname($tgtfile);
    mkpath "t/spec/$dirname";
    my $svncmd = "svn export --force $spec_repo/$srcfile $test_dir/$tgtfile";
    print "$svncmd\n";
    system($svncmd);
}

exit(0);

# Local Variables:
#   mode: cperl
#   cperl-indent-level: 4
#   fill-column: 100
# End:
# vim: expandtab shiftwidth=4:


