# Manually generated by programmer 

CC=gcc -Wall
YACC=bison -v -y
LEX=flex
LIBS=
#LIBS=-ll -ly
#LIBS=-lfl

HEADERS = cola.h parser.h

default:
	$(MAKE) x
	cp x colac

clean:
	rm -f core
	rm -f *.o *.imc
	rm -f parser.h parser.output
	rm -f lexer.c parser.c
	rm -f x

publish:
	perl publish.pl < MANIFEST

parser.c: cola.y
	$(YACC) -d -o parser.c cola.y

lexer.c: cola.l $(HEADERS) 
	$(LEX) cola.l

lexer.o: lexer.c $(HEADERS) 
	$(CC) -g -c lexer.c

parser.o: parser.c $(HEADERS)
	$(CC) -g -c parser.c

sym.o: sym.c $(HEADERS)
	$(CC) -g -c sym.c

type.o: type.c $(HEADERS)
	$(CC) -g -c type.c

gen.o: gen.c $(HEADERS)
	$(CC) -g -c gen.c

tree.o: tree.c $(HEADERS)
	$(CC) -g -c tree.c

x: parser.o lexer.o sym.o type.o gen.o
	$(CC) -g -o x parser.o lexer.o sym.o type.o gen.o $(LIBS) 
