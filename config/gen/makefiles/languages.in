# Copyright (C) 2002-2009, Parrot Foundation.
# $Id$

# some commands and locations
PERL          := @perl@
BUILD_DIR     := @build_dir@
RECONFIGURE   := $(PERL) @build_dir@/tools/dev/reconfigure.pl
GIT           := git
HG            := hg
SVN           := svn

# This is a listing of all targets, that are meant to be called by users
help:
	@echo ""
	@echo "Following targets are available for the user:"
	@echo ""
	@echo "  help:          Print this help message."
	@echo ""
	@echo "For the status of individual languages see"
	@echo "https://trac.parrot.org/parrot/wiki/Languages."
	@echo ""
	@echo "Some languages are managed in other repositories."
	@echo "Here are some helpers for checking these languages out."
	@echo "Note that these commands don't guarantee that commits are possible."
	@echo ""
	@echo "  co-all:        Try to fetch externally managed languages"
	@echo ""
	@echo "  co-bf:         Try to fetch bf"
	@echo ""
	@echo "  co-dotnet:     Try to fetch dotnet"
	@echo ""
	@echo "  co-c99:        Try to fetch C99"
	@echo ""
	@echo "  co-chitchat:   Try to fetch chitchat"
	@echo ""
	@echo "  co-eclectus:   Try to fetch eclectus"
	@echo ""
	@echo "  co-ecmascript: Try to fetch EcmaScript"
	@echo ""
	@echo "  co-forth:      Try to fetch Forth"
	@echo ""
	@echo "  co-fun:        Try to fetch fun"
	@echo ""
	@echo "  co-gil:        Try to fetch gil"
	@echo ""
	@echo "  co-hq9plus:    Try to fetch HQ9+"
	@echo ""
	@echo "  co-jako:       Try to fetch jako"
	@echo ""
	@echo "  co-json:       Try to fetch Json"
	@echo ""
	@echo "  co-kea-cl:     Try to fetch kea-cl"
	@echo ""
	@echo "  co-lazy-k:     Try to fetch lazy-k"
	@echo ""
	@echo "  co-lisp:       Try to fetch Lisp"
	@echo ""
	@echo "  co-lolcode:    Try to fetch LOLCODE"
	@echo ""
	@echo "  co-lua:        Try to fetch lua"
	@echo ""
	@echo "  co-m4:         Try to fetch Parrot m4"
	@echo ""
	@echo "  co-markdown:   Try to fetch markdown"
	@echo ""
	@echo "  co-matrixy:    Try to fetch matrixy"
	@echo ""
	@echo "  co-ook:        Try to fetch Ook"
	@echo ""
	@echo "  co-paraplegic: Try to fetch Paraplegic"
	@echo ""
	@echo "  co-perk:       Try to fetch Perk"
	@echo ""
	@echo "  co-pheme:      Try to fetch Pheme"
	@echo ""
	@echo "  co-pipp:       Try to fetch Pipp"
	@echo ""
	@echo "  co-pir:        Try to fetch PIR"
	@echo ""
	@echo "  co-pjs:        Try to fetch PJS"
	@echo ""
	@echo "  co-pod:        Try to fetch POD"
	@echo ""
	@echo "  co-primitivearc: Try to fetch primitivearc"
	@echo ""
	@echo "  co-punie:      Try to fetch Punie"
	@echo ""
	@echo "  co-pynie:      Try to fetch Pynie"
	@echo ""
	@echo "  co-rakudo:     Try to fetch Rakudo"
	@echo ""
	@echo "  co-scheme:     Try to fetch Scheme"
	@echo ""
	@echo "  co-shakespeare: Try to fetch shakespeare"
	@echo ""
	@echo "  co-tcl:        Try to fetch Partcl"
	@echo ""
	@echo "  co-unlambda:   Try to fetch unlambda"
	@echo ""
	@echo "  co-urm:        Try to fetch urm"
	@echo ""
	@echo "  co-wmlscript:  Try to fetch wmlscript"
	@echo ""
	@echo "NOTE: These make targets assume that you have run the corresponding co target."
	@echo "  up-all:        Try to update externally managed languages"
	@echo ""
	@echo "  up-dotnet:     Try to update dotnet"
	@echo ""
	@echo "  up-bf:         Try to update bf"
	@echo ""
	@echo "  up-c99:        Try to update C99"
	@echo ""
	@echo "  up-chitchat:   Try to update chitchat"
	@echo ""
	@echo "  up-eclectus:   Try to update eclectus"
	@echo ""
	@echo "  up-ecmascript: Try to update EcmaScript"
	@echo ""
	@echo "  up-forth:      Try to update Forth"
	@echo ""
	@echo "  up-fun:        Try to update fun"
	@echo ""
	@echo "  up-gil:        Try to update gil"
	@echo ""
	@echo "  up-hq9plus:    Try to update HQ9+"
	@echo ""
	@echo "  up-json:       Try to update Json"
	@echo ""
	@echo "  up-jako:       Try to update jako"
	@echo ""
	@echo "  up-kea-cl:     Try to update kea-cl"
	@echo ""
	@echo "  up-lazy-k:     Try to update lazy-k"
	@echo ""
	@echo "  up-lisp:       Try to update Lisp"
	@echo ""
	@echo "  up-lolcode:    Try to update LOLCODE"
	@echo ""
	@echo "  up-lua:        Try to update lua"
	@echo ""
	@echo "  up-m4:         Try to update Parrot m4"
	@echo ""
	@echo "  up-markdown:   Try to update markdown"
	@echo ""
	@echo "  up-matrixy:    Try to update matrixy"
	@echo ""
	@echo "  up-ook:        Try to update Ook"
	@echo ""
	@echo "  up-paraplegic: Try to update Paraplegic"
	@echo ""
	@echo "  up-perk:       Try to update Perk"
	@echo ""
	@echo "  up-pheme:      Try to update Pheme"
	@echo ""
	@echo "  up-pipp:       Try to update Pipp"
	@echo ""
	@echo "  up-pir:        Try to update PIR"
	@echo ""
	@echo "  up-pjs:        Try to update PJS"
	@echo ""
	@echo "  up-pod:        Try to update POD"
	@echo ""
	@echo "  up-primitivearc: Try to update primitivearc"
	@echo ""
	@echo "  up-punie:      Try to update Punie"
	@echo ""
	@echo "  up-pynie:      Try to update Pynie"
	@echo ""
	@echo "  up-rakudo:     Try to update Rakudo"
	@echo ""
	@echo "  up-scheme:     Try to update Scheme"
	@echo ""
	@echo "  up-shakespeare: Try to update shakespeare"
	@echo ""
	@echo "  up-tcl:        Try to update Partcl"
	@echo ""
	@echo "  up-unlambda:   Try to update unlambda"
	@echo ""
	@echo "  up-urm:        Try to update urm"
	@echo ""
	@echo "  up-wmlscript:  Try to update wmlscript"
	@echo ""

# regenerate the Makefile
Makefile: ../config/gen/makefiles/languages.in
	cd $(BUILD_DIR) && $(RECONFIGURE) --step=gen::makefiles --target=languages/Makefile

# helpers for checking out externally managed languages

# check out all known externally managed languages
co-all: \
    co-bf \
    co-c99 \
    co-chitchat \
    co-dotnet \
    co-eclectus \
    co-ecmascript \
    co-forth \
    co-fun \
    co-gil \
    co-hq9plus \
    co-jako \
    co-json \
    co-kea-cl \
    co-lazy-k \
    co-lisp \
    co-lolcode \
    co-lua \
    co-ook \
    co-m4 \
    co-matrixy \
    co-markdown \
    co-paraplegic \
    co-perk \
    co-pheme \
    co-pipp \
    co-pir \
    co-pjs \
    co-pod \
    co-primitivearc \
    co-punie \
    co-pynie \
    co-rakudo \
    co-scheme \
    co-shakespeare \
    co-tcl \
    co-unlambda \
    co-urm \
    co-wmlscript

up-all: \
    up-bf \
    up-c99 \
    up-chitchat \
    up-dotnet \
    up-eclectus \
    up-ecmascript \
    up-forth \
    up-fun \
    up-gil \
    up-hq9plus \
    up-jako \
    up-json \
    up-kea-cl \
    up-lazy-k \
    up-lisp \
    up-lolcode \
    up-lua \
    up-m4 \
    up-matrixy \
    up-markdown \
    up-ook \
    up-paraplegic \
    up-perk \
    up-pheme \
    up-pipp \
    up-pir \
    up-pjs \
    up-pod \
    up-primitivearc \
    up-punie \
    up-pynie \
    up-rakudo \
    up-scheme \
    up-shakespeare \
    up-tcl \
    up-unlambda \
    up-urm \
    up-wmlscript

co-bf:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//bf//trunk' bf

up-bf:
	cd bf && $(SVN) up

co-c99:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//c99//trunk' c99

up-c99:
	cd c99 && $(SVN) up

co-chitchat:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//chitchat//trunk' chitchat

up-chitchat:
	cd chitchat && $(SVN) up

co-dotnet:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//dotnet//trunk' dotnet

up-dotnet:
	cd dotnet && $(SVN) up

co-eclectus:
	- $(GIT) clone 'git:////github.com//bschmalhofer//eclectus.git'

up-eclectus:
	cd eclectus &&  $(GIT) pull

co-ecmascript:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//ecmascript//trunk' ecmascript

up-ecmascript:
	cd ecmascript && $(SVN) up

co-forth:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//forth//trunk' forth

up-forth:
	cd forth && $(SVN) up

co-fun:
	- $(GIT) clone 'git:////github.com//TiMBuS//fun.git'

up-fun:
	cd fun &&  $(GIT) pull

co-gil:
	- $(GIT) clone 'git:////github.com//tene//gil.git'

up-gil:
	cd gil && $(GIT) pull

co-hq9plus:
	- $(GIT) clone 'git:////github.com//bschmalhofer//hq9plus.git'

up-hq9plus:
	cd hq9plus && $(GIT) pull

co-jako:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//jako//trunk' jako

up-jako:
	cd jako && $(SVN) up

co-json:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//json//trunk' json

up-json:
	cd json && $(SVN) up

co-kea-cl:
	- $(SVN) checkout 'https:////rgrjr.dyndns.org//svn//kea-cl//trunk' kea-cl

up-kea-cl:
	cd kea-cl && $(SVN) up

co-lazy-k:
	- $(GIT) clone 'git:////github.com//bschmalhofer//lazy-k.git'

up-lazy-k:
	cd lazy-k && $(GIT) pull

co-lisp:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//lisp//trunk' lisp

up-lisp:
	cd lisp && $(SVN) up

co-lolcode:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//lolcode//trunk' lolcode

up-lolcode:
	cd lolcode && $(SVN) up

co-lua:
	- $(GIT) clone 'git:////github.com//fperrad//lua.git'

up-lua:
	cd lua && $(GIT) pull

co-m4:
	- $(GIT) clone 'git:////github.com//bschmalhofer//m4.git'

up-m4:
	cd m4 && $(GIT) pull

co-markdown:
	- $(GIT) clone 'git:////github.com//fperrad//markdown.git'

up-markdown:
	cd markdown && $(GIT) pull

co-matrixy:
	- $(SVN) checkout 'http:////matrixy.googlecode.com//svn//trunk' matrixy

up-matrixy:
	cd matrixy && $(SVN) up

co-ook:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//ook//trunk' ook

up-ook:
	cd ook && $(SVN) up

co-paraplegic:
	- $(SVN) checkout 'http:////paraplegic.googlecode.com//svn//trunk' paraplegic

up-paraplegic:
	cd paraplegic && $(SVN) up

co-perk:
	- $(GIT) clone 'git:////github.com//chrisdolan//perk.git'

up-perk:
	cd perk && $(GIT) pull

co-pheme:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//pheme//trunk' pheme

up-pheme:
	cd pheme && $(SVN) up

co-pipp:
	- $(GIT) clone 'git:////github.com//bschmalhofer//pipp.git'

up-pipp:
	cd pipp && $(GIT) pull

co-pir:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//pir//trunk' pir

up-pir:
	cd pir && $(SVN) up

co-pjs:
	- $(SVN) checkout 'http:////parrotjs.googlecode.com//svn//trunk' pjs

up-pjs:
	cd pjs && $(SVN) up

co-pod:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//pod//trunk' pod

up-pod:
	cd pod && $(SVN) up

co-primitivearc:
	- $(GIT) clone 'git:////github.com//stefano//primitivearc.git'

up-primitivearc:
	cd primitivearc && $(GIT) pull

co-punie:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//punie//trunk' punie

up-punie:
	cd punie && $(SVN) up

co-pynie:
	- $(SVN) checkout 'http:////pynie.googlecode.com//svn//trunk' pynie

up-pynie:
	cd pynie && $(SVN) up

co-rakudo:
	- $(GIT) clone 'git:////github.com//rakudo//rakudo.git'

up-rakudo:
	cd rakudo && $(GIT) pull

co-scheme:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//scheme//trunk' scheme

up-scheme:
	cd scheme && $(SVN) up

co-shakespeare:
	- $(HG) clone 'http:////bitbucket.org//riffraff//shakespeare-parrot' shakespeare

up-shakespeare:
	cd shakespeare && $(HG) pull

co-tcl:
	- $(SVN) checkout 'http:////partcl.googlecode.com//svn//trunk' tcl

up-tcl:
	cd tcl && $(SVN) up

co-unlambda:
	- $(GIT) clone 'git:////github.com//bschmalhofer//unlambda.git'

up-unlambda:
	cd unlambda && $(GIT) pull

co-urm:
	- $(SVN) checkout 'https:////svn.parrot.org//languages//urm//trunk' urm

up-urm:
	cd urm && $(SVN) up

co-wmlscript:
	- $(GIT) clone 'git:////github.com//fperrad//wmlscript.git'

up-wmlscript:
	cd wmlscript && $(GIT) pull

# Local variables:
#   mode: makefile
# End:
# vim: ft=make:
