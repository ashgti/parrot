# DO NOT EDIT THIS FILE
# Generated by lib/Parrot/Configure/Step.pm from config/gen/makefiles/dynoplibs.in
#
# sample Makefile
#
LD = cc
LD_SHARED = -shared -L/usr/local/lib
PERL = /opt/perl-ld/bin/perl
RM_F = rm -f
SO = .so


# add your dynamic oplibs here

all: myops_ops$(SO) myops_ops_cgp$(SO)

.SUFFIXES: .ops .c $(SO)

# preserve .c if needed
.PRECIOUS: %_ops.c %_ops_cgp.c

%_ops.c  : %.ops
	cd .. ; $(PERL) ops2c.pl C   dynoplibs/$<

%_ops_cgp.c  : %.ops
	cd .. ; $(PERL) ops2c.pl CGP dynoplibs/$<

%$(SO) : %.c
	$(LD) $(LD_SHARED) $(LD_SHARED_FLAGS) $(LDFLAGS) -o $@ \
		-I../include \
		-L../blib/lib -lparrot $<
	$(PERL) -MFile::Copy=cp -e 'cp q|$@|, q|../runtime/parrot/dynext/$@|'

clean :
	$(RM_F) *.c *.h *$(SO)

realclean: clean Makefile

distclean: realclean

cvsclean: realclean
